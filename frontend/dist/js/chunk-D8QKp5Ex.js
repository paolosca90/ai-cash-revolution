import{j as e,u as s,a,b as i}from"./chunk-C0kKIf9K.js";import{r as t}from"./chunk-Yu1do1ZM.js";import{C as r,a as n,b as l,B as c,d,P as o,u as x,f as m,g as h}from"./chunk-BwUE8ega.js";import{T as j,a as p,b as u,c as g,S as f,d as y,e as v,f as b,g as N}from"./chunk-Ckm3fPgI.js";import{R as S,P as w,d as P,e as R,T as F,B as C,C as z,X as A,Y as D,b as M,L as T,a as L}from"./chunk-Clm7B-j6.js";import{B as K,b as k,i as B,T as U,Z as $,C as E,R as q,o as I,L as H,n as G,p as Q,q as V,j as X}from"./chunk-11qCO3zu.js";const O=({title:s,value:a,icon:i,description:t,progress:x,trend:m,badge:h,color:j="default"})=>e.jsxs(r,{className:(()=>{switch(j){case"green":return"border-green-200 bg-green-50";case"red":return"border-red-200 bg-red-50";case"yellow":return"border-yellow-200 bg-yellow-50";default:return""}})(),children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:s}),e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx(c,{variant:"secondary",children:h}),e.jsx(i,{className:"h-4 w-4 text-muted-foreground"})]})]}),e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-2xl font-bold",children:a}),m&&e.jsx("span",{className:"text-lg",children:(()=>{switch(m){case"up":return"📈";case"down":return"📉";case"stable":return"➡️";default:return""}})()})]}),void 0!==x&&e.jsx("div",{className:"mt-2",children:e.jsx(o,{value:x,className:"h-2"})}),t&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t})]})]}),W=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#FF7C7C"],Y=({data:s,type:a,dataKey:i,xAxisKey:t="name",title:r,color:n="#8884d8",height:l=300})=>e.jsxs("div",{className:"w-full",children:[r&&e.jsx("h3",{className:"text-lg font-semibold mb-4",children:r}),e.jsx(S,{width:"100%",height:l,children:(()=>{switch(a){case"line":return e.jsxs(T,{data:s,children:[e.jsx(z,{strokeDasharray:"3 3"}),e.jsx(A,{dataKey:t}),e.jsx(D,{}),e.jsx(F,{}),e.jsx(L,{type:"monotone",dataKey:i,stroke:n,strokeWidth:2})]});case"bar":return e.jsxs(C,{data:s,children:[e.jsx(z,{strokeDasharray:"3 3"}),e.jsx(A,{dataKey:t}),e.jsx(D,{}),e.jsx(F,{}),e.jsx(M,{dataKey:i,fill:n})]});case"pie":return e.jsxs(w,{children:[e.jsx(P,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:i,children:s.map((s,a)=>e.jsx(R,{fill:W[a%W.length]},`cell-${a}`))}),e.jsx(F,{})]});default:return null}})()})]}),J=["BTCUSD","ETHUSD","EURUSD","GBPUSD","USDJPY","XAUUSD","CRUDE","US500","NAS100"];function Z(){const[S,w]=t.useState("BTCUSD"),[P,R]=t.useState([]),[F,C]=t.useState(!1),z=h(),{toast:A}=x(),D=s(),{data:M,isLoading:T,error:L,refetch:W}=a({queryKey:["mlAnalytics"],queryFn:()=>z.ml.getMLAnalytics(),retry:1,refetchInterval:3e4}),{data:Z,isLoading:_}=a({queryKey:["mlTrainingAnalytics"],queryFn:()=>z.ml.getMLTrainingAnalytics(),retry:1,refetchInterval:6e4}),{data:ee}=a({queryKey:["mlRecommendations"],queryFn:()=>z.ml.getRecommendations(),retry:1}),se=i({mutationFn:()=>z.ml.trainModel({}),onSuccess:e=>{A({title:"🎯 Training Completato",description:`Modello addestrato con accuratezza ${(100*e.metrics.accuracy).toFixed(1)}%`}),D.invalidateQueries({queryKey:["mlAnalytics"]}),D.invalidateQueries({queryKey:["mlTrainingAnalytics"]})},onError:e=>{A({variant:"destructive",title:"❌ Errore Training",description:e.message})}}),ae=i({mutationFn:e=>z.ml.detectPatterns({symbol:e}),onSuccess:(e,s)=>{const a=ie(s,e.patternsDetected);R(a),C(!1),A({title:"🔍 Pattern Rilevati",description:`${e.patternsDetected} pattern trovati per ${s}`}),D.invalidateQueries({queryKey:["mlAnalytics"]})},onError:e=>{C(!1),A({variant:"destructive",title:"❌ Errore Rilevamento",description:e.message})}}),ie=(e,s)=>{const a={BTCUSD:{confidence:1.1,reliability:.9,profit:1.5},ETHUSD:{confidence:1.05,reliability:.95,profit:1.3},EURUSD:{confidence:1.15,reliability:1.1,profit:.8},GBPUSD:{confidence:1,reliability:1,profit:.9},XAUUSD:{confidence:1.08,reliability:1.05,profit:1.2},US500:{confidence:1.12,reliability:1.08,profit:1.1},NAS100:{confidence:1.06,reliability:1.02,profit:1.25}}[e]||{confidence:1,reliability:1,profit:1};return[{name:"Double Bottom",type:"Reversal",description:"Formazione di doppio minimo che indica potenziale inversione rialzista",baseConfidence:.75,baseReliability:.68,baseSuccessRate:.72,baseProfit:180},{name:"Bull Flag",type:"Continuation",description:"Pattern di continuazione che conferma il trend rialzista in corso",baseConfidence:.82,baseReliability:.75,baseSuccessRate:.78,baseProfit:150},{name:"Head and Shoulders",type:"Reversal",description:"Classica formazione di inversione che segnala cambio di trend",baseConfidence:.7,baseReliability:.65,baseSuccessRate:.69,baseProfit:220},{name:"Ascending Triangle",type:"Continuation",description:"Triangolo ascendente che indica accumulo e potenziale breakout",baseConfidence:.78,baseReliability:.72,baseSuccessRate:.74,baseProfit:165},{name:"Cup and Handle",type:"Continuation",description:"Pattern di consolidamento che precede spesso forti movimenti rialzisti",baseConfidence:.85,baseReliability:.8,baseSuccessRate:.82,baseProfit:195}].slice(0,s).map((e,s)=>{const i=.2*(Math.random()-.5);return{name:e.name,type:e.type,description:e.description,confidence:Math.min(.95,Math.max(.6,(e.baseConfidence+i)*a.confidence)),reliability:Math.min(.9,Math.max(.5,(e.baseReliability+i)*a.reliability)),successRate:Math.min(.85,Math.max(.55,e.baseSuccessRate+i)),avgProfit:Math.round((e.baseProfit+100*i)*a.profit)}})},te=e=>{switch(e){case"Reversal":return"🔄";case"Continuation":return"📈";default:return"📊"}},re=e=>e>=.75?{text:"Alta",variant:"default"}:e>=.65?{text:"Media",variant:"secondary"}:{text:"Bassa",variant:"outline"};if(T)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"Caricamento analytics ML..."})]})});if(L)return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("p",{className:"text-red-500 text-lg mb-4",children:["Errore nel caricamento: ",L.message]}),e.jsx(m,{onClick:()=>W(),children:"Riprova"})]})});if(!M)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"Nessun dato ML disponibile"})})});const ne=[{title:"Accuratezza Modello",value:`${(100*M.modelPerformance.accuracy).toFixed(1)}%`,icon:K,description:"Precisione delle predizioni ML",progress:100*M.modelPerformance.accuracy,color:M.modelPerformance.accuracy>.8?"green":M.modelPerformance.accuracy>.7?"yellow":"red",trend:"up"},{title:"Precision",value:`${(100*M.modelPerformance.precision).toFixed(1)}%`,icon:k,description:"Precisione delle predizioni positive",progress:100*M.modelPerformance.precision,color:"default"},{title:"F1 Score",value:`${(100*M.modelPerformance.f1Score).toFixed(1)}%`,icon:B,description:"Bilanciamento precision/recall",progress:100*M.modelPerformance.f1Score,color:"default"},{title:"Sharpe Ratio",value:M.modelPerformance.sharpeRatio.toFixed(2),icon:U,description:"Rapporto rischio/rendimento",badge:M.modelPerformance.sharpeRatio>1.5?"Eccellente":M.modelPerformance.sharpeRatio>1?"Buono":"Migliorabile",color:M.modelPerformance.sharpeRatio>1.5?"green":"default"},{title:"Predizioni Totali",value:M.predictionStats.totalPredictions.toString(),icon:$,description:"Numero di predizioni generate",color:"default"},{title:"Win Rate ML",value:`${(100*M.predictionStats.winRate).toFixed(1)}%`,icon:E,description:"Percentuale di predizioni vincenti",progress:100*M.predictionStats.winRate,color:M.predictionStats.winRate>.7?"green":"default"}],le=M.performanceTimeline.map(e=>({date:new Date(e.date).toLocaleDateString(),accuracy:parseFloat((100*e.accuracy).toFixed(1)),profitLoss:e.profitLoss,predictions:e.predictions})),ce=M.featureImportance.slice(0,8).map(e=>({feature:e.feature.length>10?e.feature.substring(0,10)+"...":e.feature,importance:parseFloat((100*e.importance).toFixed(1)),type:e.type})),de=M.learningProgress.slice(-15).map(e=>({epoch:e.epoch,trainingLoss:parseFloat(e.trainingLoss.toFixed(3)),validationLoss:parseFloat(e.validationLoss.toFixed(3)),accuracy:parseFloat((100*e.accuracy).toFixed(1))}));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"🤖 Machine Learning Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Analisi avanzata e monitoraggio delle performance ML con tracking completo"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{onClick:()=>W(),variant:"outline",size:"sm",disabled:T,children:[e.jsx(q,{className:"h-4 w-4 mr-2 "+(T?"animate-spin":"")}),"Aggiorna"]}),e.jsxs(m,{onClick:()=>se.mutate(),disabled:se.isPending,size:"sm",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),se.isPending?"Training...":"Addestra Modello"]})]})]}),e.jsxs(j,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(p,{className:"grid w-full grid-cols-4",children:[e.jsx(u,{value:"overview",children:"📊 Overview"}),e.jsx(u,{value:"patterns",children:"🔍 Pattern Detection"}),e.jsx(u,{value:"analytics",children:"📈 Signal Analytics"}),e.jsx(u,{value:"training",children:"🧠 Training Data"})]}),e.jsxs(g,{value:"overview",className:"space-y-6",children:[e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ne.map(s=>e.jsx(O,{...s},s.title))}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["📈 Andamento Performance ML",e.jsxs(c,{variant:"secondary",children:[le.length," giorni"]})]})}),e.jsx(d,{children:e.jsx(Y,{data:le,type:"line",dataKey:"accuracy",xAxisKey:"date",color:"#8884d8",height:300})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["🎯 Importanza Features",e.jsxs(c,{variant:"secondary",children:["Top ",ce.length]})]})}),e.jsx(d,{children:e.jsx(Y,{data:ce,type:"bar",dataKey:"importance",xAxisKey:"feature",color:"#82ca9d",height:300})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["📚 Progresso Apprendimento",e.jsxs(c,{variant:"secondary",children:[de.length," epoche"]})]})}),e.jsx(d,{children:e.jsx(Y,{data:de,type:"line",dataKey:"accuracy",xAxisKey:"epoch",color:"#ff7300",height:300})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["🔍 Pattern Storici",e.jsxs(c,{variant:"secondary",children:[M.marketPatterns.length," pattern"]})]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:0===M.marketPatterns.length?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{children:"Nessun pattern storico disponibile"})}):M.marketPatterns.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-sm",children:s.pattern}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.type," • ",(100*s.successRate).toFixed(1),"% successo • ",new Date(s.detectedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs(c,{variant:s.confidence>.8?"default":s.confidence>.6?"secondary":"outline",children:[(100*s.confidence).toFixed(0),"%"]}),e.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["+$",s.avgProfit.toFixed(0)]})]})]},a))})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["⚙️ Parametri Adattivi",e.jsxs(c,{variant:"secondary",children:[M.adaptiveParameters.length," parametri"]})]})}),e.jsx(d,{children:0===M.adaptiveParameters.length?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{children:"Nessun parametro adattivo configurato"})}):e.jsx("div",{className:"space-y-3",children:M.adaptiveParameters.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-sm",children:s.parameter}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.adaptationReason})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-mono",children:s.currentValue.toFixed(4)}),e.jsxs("div",{className:"text-xs "+(s.performanceImprovement>0?"text-green-600":"text-red-600"),children:[s.performanceImprovement>0?"+":"",(100*s.performanceImprovement).toFixed(1),"%"]})]})]},a))})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Raccomandazioni ML",e.jsx(c,{variant:"secondary",children:(null==ee?void 0:ee.recommendations.length)||0})]})}),e.jsx(d,{children:ee&&0!==ee.recommendations.length?e.jsx("div",{className:"space-y-3",children:ee.recommendations.map((s,a)=>e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800",children:s})},a))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:e.jsx("p",{children:"Nessuna raccomandazione disponibile"})})})]})]})]}),e.jsx(g,{value:"patterns",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Rilevamento Pattern"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Seleziona Asset"}),e.jsxs(f,{value:S,onValueChange:w,children:[e.jsx(y,{children:e.jsx(v,{placeholder:"Seleziona Asset"})}),e.jsx(b,{children:J.map(s=>e.jsx(N,{value:s,children:s},s))})]})]}),e.jsx(m,{onClick:()=>{C(!0),R([]),ae.mutate(S)},disabled:F,className:"w-full",children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rilevando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Rileva Pattern"]})}),F&&e.jsxs("div",{className:"text-center py-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Analizzando ",S,"..."]}),e.jsx(o,{value:33,className:"mt-2"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Scansione pattern in corso"})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["📊 Pattern Rilevati per ",S,P.length>0&&e.jsxs(c,{variant:"secondary",children:[P.length," pattern"]})]})}),e.jsx(d,{children:0!==P.length||F?e.jsx("div",{className:"space-y-4",children:P.map((s,a)=>{return e.jsx(r,{className:"border-l-4 "+(i=s.confidence,i>=.8?"text-green-600 bg-green-50 border-green-200":i>=.7?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200"),children:e.jsx(d,{className:"pt-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:te(s.type)}),e.jsx("h4",{className:"font-semibold text-lg",children:s.name}),e.jsxs(c,{variant:re(s.reliability).variant,children:["Affidabilità ",re(s.reliability).text]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Confidenza:"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(o,{value:100*s.confidence,className:"flex-1 h-2"}),e.jsxs("span",{className:"font-semibold",children:[(100*s.confidence).toFixed(1),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Affidabilità:"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(o,{value:100*s.reliability,className:"flex-1 h-2"}),e.jsxs("span",{className:"font-semibold",children:[(100*s.reliability).toFixed(1),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Tasso Successo:"}),e.jsxs("span",{className:"font-semibold ml-2",children:[(100*s.successRate).toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Profitto Medio:"}),e.jsxs("span",{className:"font-semibold ml-2 text-green-600",children:["+$",s.avgProfit]})]})]})]}),e.jsxs("div",{className:"ml-4 text-right",children:[e.jsx(c,{variant:"Reversal"===s.type?"destructive":"default",className:"mb-2",children:s.type}),s.confidence>=.8?e.jsxs("div",{className:"flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{children:"Forte"})]}):s.confidence>=.7?e.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 text-sm",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:"Moderato"})]}):e.jsxs("div",{className:"flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(V,{className:"h-4 w-4"}),e.jsx("span",{children:"Debole"})]})]})]})})},a);var i})}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(G,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nessun pattern rilevato"}),e.jsx("p",{className:"text-sm mt-2",children:'Seleziona un asset e clicca "Rileva Pattern" per iniziare l\'analisi'})]})})]})})]})}),e.jsx(g,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["📊 Success Rate per Simbolo",e.jsx(c,{variant:"secondary",children:M.signalAnalytics.successRateBySymbol.length})]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:M.signalAnalytics.successRateBySymbol.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:s.symbol}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.totalSignals," segnali • ",s.avgGenerationTime.toFixed(0),"ms avg"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold "+(s.successRate>80?"text-green-600":s.successRate>60?"text-yellow-600":"text-red-600"),children:[s.successRate.toFixed(1),"%"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.successfulSignals,"/",s.totalSignals]})]})]},a))})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["🌍 Performance per Condizioni",e.jsx(c,{variant:"secondary",children:M.signalAnalytics.performanceByConditions.length})]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:M.signalAnalytics.performanceByConditions.map((s,a)=>e.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"font-semibold text-sm",children:[s.sessionType," • ",s.volatilityState]}),e.jsxs(c,{variant:"outline",children:[s.signalCount," segnali"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Confidenza Media:"}),e.jsxs("span",{className:"font-semibold",children:[s.avgConfidence.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Successi:"}),e.jsx("span",{className:"font-semibold text-green-600",children:s.successfulCount})]})]},a))})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:["📈 Trend Orario",e.jsx(c,{variant:"secondary",children:"24h"})]})}),e.jsx(d,{children:e.jsx(Y,{data:M.signalAnalytics.trendAnalysis.map(e=>({hour:new Date(e.hour).getHours().toString(),signals:e.signalsGenerated,confidence:e.avgConfidence,successful:e.successfulSignals})),type:"bar",dataKey:"signals",xAxisKey:"hour",color:"#8884d8",height:250})})]})]})}),e.jsx(g,{value:"training",className:"space-y-6",children:_?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{children:"Caricamento dati di training..."})]}):Z?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Panoramica Dati di Training",e.jsxs(c,{variant:"secondary",children:[Z.insights.totalTrainingRecords," record"]})]})}),e.jsx(d,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Z.insights.totalTrainingRecords}),e.jsx("div",{className:"text-sm text-blue-700",children:"Record di Training Totali"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Z.insights.accuracyBySymbol.length}),e.jsx("div",{className:"text-sm text-green-700",children:"Simboli Analizzati"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Z.insights.confidenceCalibration.length}),e.jsx("div",{className:"text-sm text-purple-700",children:"Range di Confidenza"})]})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(l,{children:"🎯 Accuratezza per Simbolo"})}),e.jsx(d,{children:e.jsx(Y,{data:Z.insights.accuracyBySymbol.map(e=>({symbol:e.symbol,accuracy:(100*e.accuracy).toFixed(1),samples:e.sampleSize})),type:"bar",dataKey:"accuracy",xAxisKey:"symbol",color:"#10b981",height:300})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(l,{children:"📊 Calibrazione Confidenza"})}),e.jsx(d,{children:e.jsx(Y,{data:Z.insights.confidenceCalibration.map(e=>({range:e.confidenceRange,successRate:(100*e.actualSuccessRate).toFixed(1),samples:e.sampleSize})),type:"bar",dataKey:"successRate",xAxisKey:"range",color:"#f59e0b",height:300})})]})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5"}),"Raccomandazioni Training"]})}),e.jsx(d,{children:e.jsx("div",{className:"space-y-3",children:Z.recommendations.map((s,a)=>e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-800",children:s})},a))})})]}),e.jsxs(r,{children:[e.jsx(n,{children:e.jsx(l,{children:"🌍 Performance per Condizioni di Mercato"})}),e.jsx(d,{children:e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Z.insights.marketConditionPerformance.map((s,a)=>e.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[e.jsx("div",{className:"font-semibold mb-2",children:s.condition}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accuratezza:"}),e.jsxs("span",{className:"font-semibold "+(s.accuracy>.7?"text-green-600":"text-yellow-600"),children:[(100*s.accuracy).toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"P/L Medio:"}),e.jsxs("span",{className:"font-semibold "+(s.avgProfitLoss>0?"text-green-600":"text-red-600"),children:["$",s.avgProfitLoss.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Campioni:"}),e.jsx("span",{className:"font-semibold",children:s.sampleSize})]})]})]},a))})})]})]}):e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:e.jsx("p",{children:"Nessun dato di training disponibile"})})})]})]})}export{Z as M};
