import{j as e,u as t,b as s,a}from"./chunk-C0kKIf9K.js";import{r as n,a as r,e as i,u as l}from"./chunk-Yu1do1ZM.js";import{c as o,C as c,a as d,b as u,B as m,d as x,e as p,f as h,u as f,g}from"./chunk-WsnDwJNx.js";import{P as v,a as b,u as j,b as N,R as y,c as w,d as S,e as C,f as A,A as E,g as D,h as I,i as P,j as k,k as T,l as R,m as U,n as L,F as z,D as _,C as F,o as O,p as M,L as G,T as B,q as H}from"./chunk-IHmF_y9t.js";import{k as K,l as V,m as W,T as q,a as Y,Z as X,b as $,S as Z,C as J,c as Q,D as ee,X as te,f as se,i as ae,g as ne,n as re,h as ie}from"./chunk-11qCO3zu.js";var le=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oe=n.forwardRef((t,s)=>e.jsx(v.span,{...t,ref:s,style:{...le,...t.style}}));oe.displayName="VisuallyHidden";const ce={light:50,medium:100,heavy:200,success:[50,50,50],error:[100,50,100,50,100],notification:[200,100,200],tap:25,double_tap:[25,25,25],heartbeat:[100,30,100,30,100]},de=()=>{const[e,t]=n.useState({isMobile:!1,isTablet:!1,isDesktop:!0,isIOS:!1,isAndroid:!1,hasVibration:!1,hasNotificationAPI:!1,isStandalone:!1,platform:"desktop"});return n.useEffect(()=>{const e=navigator.userAgent,s=window.innerWidth,a=s<768,n=s>=768&&s<1024,r=s>=1024,i=/iPad|iPhone|iPod/.test(e),l=/Android/.test(e),o="vibrate"in navigator,c="Notification"in window,d=window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone;let u="desktop";a?u="mobile":n&&(u="tablet"),t({isMobile:a,isTablet:n,isDesktop:r,isIOS:i,isAndroid:l,hasVibration:o,hasNotificationAPI:c,isStandalone:d,platform:u});const m=()=>{const e=window.innerWidth,s=e<768,a=e>=768&&e<1024,n=e>=1024;let r="desktop";s?r="mobile":a&&(r="tablet"),t(e=>({...e,isMobile:s,isTablet:a,isDesktop:n,platform:r}))};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),e},ue=()=>({device:de(),vibration:(()=>{const{hasVibration:e}=de(),t=n.useCallback(t=>{e&&navigator.vibrate&&navigator.vibrate(t)},[e]),s=n.useCallback(e=>{t(ce[e])},[t]);return{vibrate:t,vibratePattern:s,hasVibration:e}})(),notifications:(()=>{const[e,t]=n.useState("default"),[s,a]=n.useState(!1);n.useEffect(()=>{a("Notification"in window),"Notification"in window&&t(Notification.permission)},[]);const r=n.useCallback(async()=>{if(!s)return!1;try{const e=await Notification.requestPermission();return t(e),"granted"===e}catch(e){return!1}},[s]),i=n.useCallback(async(t,a)=>{if(!s||"granted"!==e)return null;try{return new Notification(t,{icon:"/icons/icon-192x192.png",badge:"/icons/badge-72x72.png",vibrate:ce.notification,requireInteraction:!1,...a})}catch(n){return null}},[s,e]);return{permission:e,isSupported:s,requestPermission:r,showNotification:i}})(),wakeLock:(()=>{const[e,t]=n.useState(!1),[s,a]=n.useState(!1),[r,i]=n.useState(null);n.useEffect(()=>{t("wakeLock"in navigator)},[]);const l=n.useCallback(async()=>{if(!e||s)return!1;try{const e=await navigator.wakeLock.request("screen");return i(e),a(!0),e.addEventListener("release",()=>{a(!1),i(null)}),!0}catch(t){return!1}},[e,s]),o=n.useCallback(async()=>{r&&(await r.release(),i(null),a(!1))},[r]);return{isSupported:e,isActive:s,acquire:l,release:o}})(),fullscreen:(()=>{const[e,t]=n.useState(!1),[s,a]=n.useState(!1);n.useEffect(()=>{const e=!(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled);t(e);const s=()=>{a(!(!document.fullscreenElement&&!document.webkitFullscreenElement))};return document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s),()=>{document.removeEventListener("fullscreenchange",s),document.removeEventListener("webkitfullscreenchange",s)}},[]);const r=n.useCallback(async t=>{if(!e)return!1;const s=t||document.documentElement;try{return s.requestFullscreen?await s.requestFullscreen():s.webkitRequestFullscreen&&await s.webkitRequestFullscreen(),!0}catch(a){return!1}},[e]),i=n.useCallback(async()=>{if(!e)return!1;try{return document.exitFullscreen?await document.exitFullscreen():document.webkitExitFullscreen&&await document.webkitExitFullscreen(),!0}catch(t){return!1}},[e]),l=n.useCallback(async e=>s?await i():await r(e),[s,r,i]);return{isSupported:e,isFullscreen:s,enter:r,exit:i,toggle:l}})(),network:(()=>{const[e,t]=n.useState(navigator.onLine),[s,a]=n.useState("unknown"),[r,i]=n.useState("unknown");return n.useEffect(()=>{const e=()=>{t(navigator.onLine),navigator.connection&&(a(navigator.connection.type||"unknown"),i(navigator.connection.effectiveType||"unknown"))},s=()=>t(!0),n=()=>t(!1);return e(),window.addEventListener("online",s),window.addEventListener("offline",n),navigator.connection&&navigator.connection.addEventListener("change",e),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n),navigator.connection&&navigator.connection.removeEventListener("change",e)}},[]),{isOnline:e,connectionType:s,effectiveType:r,isSlowConnection:"slow-2g"===r||"2g"===r,isFastConnection:"4g"===r||"5g"===r}})(),battery:(()=>{const[e,t]=n.useState({level:1,charging:!0,chargingTime:0,dischargingTime:1/0,isSupported:!1});return n.useEffect(()=>{"getBattery"in navigator&&navigator.getBattery().then(e=>{const s=()=>{t({level:e.level,charging:e.charging,chargingTime:e.chargingTime,dischargingTime:e.dischargingTime,isSupported:!0})};s(),e.addEventListener("chargingchange",s),e.addEventListener("levelchange",s),e.addEventListener("chargingtimechange",s),e.addEventListener("dischargingtimechange",s)}).catch(e=>{})},[]),e})()});function me(e,[t,s]){return Math.min(s,Math.max(t,e))}var xe=[" ","Enter","ArrowUp","ArrowDown"],pe=[" ","Enter"],he="Select",[fe,ge,ve]=C(he),[be,je]=w(he,[ve,b]),Ne=b(),[ye,we]=be(he),[Se,Ce]=be(he),Ae=t=>{const{__scopeSelect:s,children:a,open:r,defaultOpen:i,onOpenChange:l,value:o,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:x,disabled:p,required:h,form:f}=t,g=Ne(s),[v,b]=n.useState(null),[w,C]=n.useState(null),[A,E]=n.useState(!1),D=j(u),[I,P]=N({prop:r,defaultProp:i??!1,onChange:l,caller:he}),[k,T]=N({prop:o,defaultProp:c,onChange:d,caller:he}),R=n.useRef(null),U=!v||(f||!!v.closest("form")),[L,z]=n.useState(new Set),_=Array.from(L).map(e=>e.props.value).join(";");return e.jsx(y,{...g,children:e.jsxs(ye,{required:h,scope:s,trigger:v,onTriggerChange:b,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:S(),value:k,onValueChange:T,open:I,onOpenChange:P,dir:D,triggerPointerDownPosRef:R,disabled:p,children:[e.jsx(fe.Provider,{scope:s,children:e.jsx(Se,{scope:t.__scopeSelect,onNativeOptionAdd:n.useCallback(e=>{z(t=>new Set(t).add(e))},[]),onNativeOptionRemove:n.useCallback(e=>{z(t=>{const s=new Set(t);return s.delete(e),s})},[]),children:a})}),U?e.jsxs(dt,{"aria-hidden":!0,required:h,tabIndex:-1,name:m,autoComplete:x,value:k,onChange:e=>T(e.target.value),disabled:p,form:f,children:[void 0===k?e.jsx("option",{value:""}):null,Array.from(L)]},_):null]})})};Ae.displayName=he;var Ee="SelectTrigger",De=n.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:r=!1,...i}=t,l=Ne(a),o=we(Ee,a),c=o.disabled||r,d=A(s,o.onTriggerChange),u=ge(a),m=n.useRef("touch"),[x,p,h]=mt(e=>{const t=u().filter(e=>!e.disabled),s=t.find(e=>e.value===o.value),a=xt(t,e,s);void 0!==a&&o.onValueChange(a.value)}),f=e=>{c||(o.onOpenChange(!0),h()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return e.jsx(E,{asChild:!0,...l,children:e.jsx(v.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ut(o.value)?"":void 0,...i,ref:d,onClick:D(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&f(e)}),onPointerDown:D(i.onPointerDown,e=>{m.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(f(e),e.preventDefault())}),onKeyDown:D(i.onKeyDown,e=>{const t=""!==x.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),t&&" "===e.key||xe.includes(e.key)&&(f(),e.preventDefault())})})})});De.displayName=Ee;var Ie="SelectValue",Pe=n.forwardRef((t,s)=>{const{__scopeSelect:a,className:n,style:r,children:i,placeholder:l="",...o}=t,c=we(Ie,a),{onValueNodeHasChildrenChange:d}=c,u=void 0!==i,m=A(s,c.onValueNodeChange);return I(()=>{d(u)},[d,u]),e.jsx(v.span,{...o,ref:m,style:{pointerEvents:"none"},children:ut(c.value)?e.jsx(e.Fragment,{children:l}):i})});Pe.displayName=Ie;var ke=n.forwardRef((t,s)=>{const{__scopeSelect:a,children:n,...r}=t;return e.jsx(v.span,{"aria-hidden":!0,...r,ref:s,children:n||"▼"})});ke.displayName="SelectIcon";var Te=t=>e.jsx(P,{asChild:!0,...t});Te.displayName="SelectPortal";var Re="SelectContent",Ue=n.forwardRef((t,s)=>{const a=we(Re,t.__scopeSelect),[i,l]=n.useState();if(I(()=>{l(new DocumentFragment)},[]),!a.open){const s=i;return s?r.createPortal(e.jsx(ze,{scope:t.__scopeSelect,children:e.jsx(fe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),s):null}return e.jsx(Oe,{...t,ref:s})});Ue.displayName=Re;var Le=10,[ze,_e]=be(Re),Fe=L("SelectContent.RemoveScroll"),Oe=n.forwardRef((t,s)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:l,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:x,collisionBoundary:p,collisionPadding:h,sticky:f,hideWhenDetached:g,avoidCollisions:v,...b}=t,j=we(Re,a),[N,y]=n.useState(null),[w,S]=n.useState(null),C=A(s,e=>y(e)),[E,I]=n.useState(null),[P,k]=n.useState(null),L=ge(a),[F,O]=n.useState(!1),M=n.useRef(!1);n.useEffect(()=>{if(N)return T(N)},[N]),R();const G=n.useCallback(e=>{const[t,...s]=L().map(e=>e.ref.current),[a]=s.slice(-1),n=document.activeElement;for(const r of e){if(r===n)return;if(null==r||r.scrollIntoView({block:"nearest"}),r===t&&w&&(w.scrollTop=0),r===a&&w&&(w.scrollTop=w.scrollHeight),null==r||r.focus(),document.activeElement!==n)return}},[L,w]),B=n.useCallback(()=>G([E,N]),[G,E,N]);n.useEffect(()=>{F&&B()},[F,B]);const{onOpenChange:H,triggerPointerDownPosRef:K}=j;n.useEffect(()=>{if(N){let e={x:0,y:0};const t=t=>{var s,a;e={x:Math.abs(Math.round(t.pageX)-((null==(s=K.current)?void 0:s.x)??0)),y:Math.abs(Math.round(t.pageY)-((null==(a=K.current)?void 0:a.y)??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():N.contains(s.target)||H(!1),document.removeEventListener("pointermove",t),K.current=null};return null!==K.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[N,H,K]),n.useEffect(()=>{const e=()=>H(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[H]);const[V,W]=mt(e=>{const t=L().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),a=xt(t,e,s);a&&setTimeout(()=>a.ref.current.focus())}),q=n.useCallback((e,t,s)=>{const a=!M.current&&!s;(void 0!==j.value&&j.value===t||a)&&(I(e),a&&(M.current=!0))},[j.value]),Y=n.useCallback(()=>null==N?void 0:N.focus(),[N]),X=n.useCallback((e,t,s)=>{const a=!M.current&&!s;(void 0!==j.value&&j.value===t||a)&&k(e)},[j.value]),$="popper"===r?Ge:Me,Z=$===Ge?{side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:x,collisionBoundary:p,collisionPadding:h,sticky:f,hideWhenDetached:g,avoidCollisions:v}:{};return e.jsx(ze,{scope:a,content:N,viewport:w,onViewportChange:S,itemRefCallback:q,selectedItem:E,onItemLeave:Y,itemTextRefCallback:X,focusSelectedItem:B,selectedItemText:P,position:r,isPositioned:F,searchRef:V,children:e.jsx(U,{as:Fe,allowPinchZoom:!0,children:e.jsx(z,{asChild:!0,trapped:j.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:D(i,e=>{var t;null==(t=j.trigger)||t.focus({preventScroll:!0}),e.preventDefault()}),children:e.jsx(_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:e.jsx($,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:e=>e.preventDefault(),...b,...Z,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:D(b.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||W(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=L().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const s=e.target,a=t.indexOf(s);t=t.slice(a+1)}setTimeout(()=>G(t)),e.preventDefault()}})})})})})})});Oe.displayName="SelectContentImpl";var Me=n.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:r,...i}=t,l=we(Re,a),o=_e(Re,a),[c,d]=n.useState(null),[u,m]=n.useState(null),x=A(s,e=>m(e)),p=ge(a),h=n.useRef(!1),f=n.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:j,focusSelectedItem:N}=o,y=n.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&u&&g&&b&&j){const e=l.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),s=l.valueNode.getBoundingClientRect(),a=j.getBoundingClientRect();if("rtl"!==l.dir){const n=a.left-t.left,r=s.left-n,i=e.left-r,l=e.width+i,o=Math.max(l,t.width),d=window.innerWidth-Le,u=me(r,[Le,Math.max(Le,d-o)]);c.style.minWidth=l+"px",c.style.left=u+"px"}else{const n=t.right-a.right,r=window.innerWidth-s.right-n,i=window.innerWidth-e.right-r,l=e.width+i,o=Math.max(l,t.width),d=window.innerWidth-Le,u=me(r,[Le,Math.max(Le,d-o)]);c.style.minWidth=l+"px",c.style.right=u+"px"}const n=p(),i=window.innerHeight-2*Le,o=g.scrollHeight,d=window.getComputedStyle(u),m=parseInt(d.borderTopWidth,10),x=parseInt(d.paddingTop,10),f=parseInt(d.borderBottomWidth,10),v=m+x+o+parseInt(d.paddingBottom,10)+f,N=Math.min(5*b.offsetHeight,v),y=window.getComputedStyle(g),w=parseInt(y.paddingTop,10),S=parseInt(y.paddingBottom,10),C=e.top+e.height/2-Le,A=i-C,E=b.offsetHeight/2,D=m+x+(b.offsetTop+E),I=v-D;if(D<=C){const e=n.length>0&&b===n[n.length-1].ref.current;c.style.bottom="0px";const t=u.clientHeight-g.offsetTop-g.offsetHeight,s=D+Math.max(A,E+(e?S:0)+t+f);c.style.height=s+"px"}else{const e=n.length>0&&b===n[0].ref.current;c.style.top="0px";const t=Math.max(C,m+g.offsetTop+(e?w:0)+E)+I;c.style.height=t+"px",g.scrollTop=D-C+g.offsetTop}c.style.margin=`${Le}px 0`,c.style.minHeight=N+"px",c.style.maxHeight=i+"px",null==r||r(),requestAnimationFrame(()=>h.current=!0)}},[p,l.trigger,l.valueNode,c,u,g,b,j,l.dir,r]);I(()=>y(),[y]);const[w,S]=n.useState();I(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const C=n.useCallback(e=>{e&&!0===f.current&&(y(),null==N||N(),f.current=!1)},[y,N]);return e.jsx(Be,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:h,onScrollButtonChange:C,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:e.jsx(v.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Me.displayName="SelectItemAlignedPosition";var Ge=n.forwardRef((t,s)=>{const{__scopeSelect:a,align:n="start",collisionPadding:r=Le,...i}=t,l=Ne(a);return e.jsx(F,{...l,...i,ref:s,align:n,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ge.displayName="SelectPopperPosition";var[Be,He]=be(Re,{}),Ke="SelectViewport",Ve=n.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:r,...i}=t,l=_e(Ke,a),o=He(Ke,a),c=A(s,l.onViewportChange),d=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(fe.Slot,{scope:a,children:e.jsx(v.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:D(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:a}=o;if((null==a?void 0:a.current)&&s){const e=Math.abs(d.current-t.scrollTop);if(e>0){const a=window.innerHeight-2*Le,n=parseFloat(s.style.minHeight),r=parseFloat(s.style.height),i=Math.max(n,r);if(i<a){const n=i+e,r=Math.min(a,n),l=n-r;s.style.height=r+"px","0px"===s.style.bottom&&(t.scrollTop=l>0?l:0,s.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});Ve.displayName=Ke;var We="SelectGroup",[qe,Ye]=be(We);n.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=S();return e.jsx(qe,{scope:a,id:r,children:e.jsx(v.div,{role:"group","aria-labelledby":r,...n,ref:s})})}).displayName=We;var Xe="SelectLabel";n.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=Ye(Xe,a);return e.jsx(v.div,{id:r.id,...n,ref:s})}).displayName=Xe;var $e="SelectItem",[Ze,Je]=be($e),Qe=n.forwardRef((t,s)=>{const{__scopeSelect:a,value:r,disabled:i=!1,textValue:l,...o}=t,c=we($e,a),d=_e($e,a),u=c.value===r,[m,x]=n.useState(l??""),[p,h]=n.useState(!1),f=A(s,e=>{var t;return null==(t=d.itemRefCallback)?void 0:t.call(d,e,r,i)}),g=S(),b=n.useRef("touch"),j=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ze,{scope:a,value:r,disabled:i,textId:g,isSelected:u,onItemTextChange:n.useCallback(e=>{x(t=>t||((null==e?void 0:e.textContent)??"").trim())},[]),children:e.jsx(fe.ItemSlot,{scope:a,value:r,disabled:i,textValue:m,children:e.jsx(v.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:f,onFocus:D(o.onFocus,()=>h(!0)),onBlur:D(o.onBlur,()=>h(!1)),onClick:D(o.onClick,()=>{"mouse"!==b.current&&j()}),onPointerUp:D(o.onPointerUp,()=>{"mouse"===b.current&&j()}),onPointerDown:D(o.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:D(o.onPointerMove,e=>{var t;b.current=e.pointerType,i?null==(t=d.onItemLeave)||t.call(d):"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:D(o.onPointerLeave,e=>{var t;e.currentTarget===document.activeElement&&(null==(t=d.onItemLeave)||t.call(d))}),onKeyDown:D(o.onKeyDown,e=>{var t;""!==(null==(t=d.searchRef)?void 0:t.current)&&" "===e.key||(pe.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});Qe.displayName=$e;var et="SelectItemText",tt=n.forwardRef((t,s)=>{const{__scopeSelect:a,className:i,style:l,...o}=t,c=we(et,a),d=_e(et,a),u=Je(et,a),m=Ce(et,a),[x,p]=n.useState(null),h=A(s,e=>p(e),u.onItemTextChange,e=>{var t;return null==(t=d.itemTextRefCallback)?void 0:t.call(d,e,u.value,u.disabled)}),f=null==x?void 0:x.textContent,g=n.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:f},u.value),[u.disabled,u.value,f]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=m;return I(()=>(b(g),()=>j(g)),[b,j,g]),e.jsxs(e.Fragment,{children:[e.jsx(v.span,{id:u.textId,...o,ref:h}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?r.createPortal(o.children,c.valueNode):null]})});tt.displayName=et;var st="SelectItemIndicator",at=n.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t;return Je(st,a).isSelected?e.jsx(v.span,{"aria-hidden":!0,...n,ref:s}):null});at.displayName=st;var nt="SelectScrollUpButton",rt=n.forwardRef((t,s)=>{const a=_e(nt,t.__scopeSelect),r=He(nt,t.__scopeSelect),[i,l]=n.useState(!1),o=A(s,r.onScrollButtonChange);return I(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollTop>0;l(e)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),i?e.jsx(ot,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});rt.displayName=nt;var it="SelectScrollDownButton",lt=n.forwardRef((t,s)=>{const a=_e(it,t.__scopeSelect),r=He(it,t.__scopeSelect),[i,l]=n.useState(!1),o=A(s,r.onScrollButtonChange);return I(()=>{if(a.viewport&&a.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,s=Math.ceil(t.scrollTop)<e;l(s)};const t=a.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[a.viewport,a.isPositioned]),i?e.jsx(ot,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=a;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});lt.displayName=it;var ot=n.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:r,...i}=t,l=_e("SelectScrollButton",a),o=n.useRef(null),c=ge(a),d=n.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return n.useEffect(()=>()=>d(),[d]),I(()=>{var e;const t=c().find(e=>e.ref.current===document.activeElement);null==(e=null==t?void 0:t.ref.current)||e.scrollIntoView({block:"nearest"})},[c]),e.jsx(v.div,{"aria-hidden":!0,...i,ref:s,style:{flexShrink:0,...i.style},onPointerDown:D(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:D(i.onPointerMove,()=>{var e;null==(e=l.onItemLeave)||e.call(l),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:D(i.onPointerLeave,()=>{d()})})});n.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t;return e.jsx(v.div,{"aria-hidden":!0,...n,ref:s})}).displayName="SelectSeparator";var ct="SelectArrow";n.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=Ne(a),i=we(ct,a),l=_e(ct,a);return i.open&&"popper"===l.position?e.jsx(O,{...r,...n,ref:s}):null}).displayName=ct;var dt=n.forwardRef(({__scopeSelect:t,value:s,...a},r)=>{const i=n.useRef(null),l=A(r,i),o=function(e){const t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(s);return n.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLSelectElement.prototype,a=Object.getOwnPropertyDescriptor(t,"value").set;if(o!==s&&a){const t=new Event("change",{bubbles:!0});a.call(e,s),e.dispatchEvent(t)}},[o,s]),e.jsx(v.select,{...a,style:{...le,...a.style},ref:l,defaultValue:s})});function ut(e){return""===e||void 0===e}function mt(e){const t=k(e),s=n.useRef(""),a=n.useRef(0),r=n.useCallback(e=>{const n=s.current+e;t(n),function e(t){s.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(n)},[t]),i=n.useCallback(()=>{s.current="",window.clearTimeout(a.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),[s,r,i]}function xt(e,t,s){const a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=s?e.indexOf(s):-1;let r=(i=e,l=Math.max(n,0),i.map((e,t)=>i[(l+t)%i.length]));var i,l;1===a.length&&(r=r.filter(e=>e!==s));const o=r.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return o!==s?o:void 0}dt.displayName="SelectBubbleInput";var pt=Ae,ht=De,ft=Pe,gt=ke,vt=Te,bt=Ue,jt=Ve,Nt=Qe,yt=tt,wt=at,St=rt,Ct=lt;function At({...t}){return e.jsx(pt,{"data-slot":"select",...t})}function Et({...t}){return e.jsx(ft,{"data-slot":"select-value",...t})}function Dt({className:t,size:s="default",children:a,...n}){return e.jsxs(ht,{"data-slot":"select-trigger","data-size":s,className:o("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n,children:[a,e.jsx(gt,{asChild:!0,children:e.jsx(K,{className:"size-4 opacity-50"})})]})}function It({className:t,children:s,position:a="popper",...n}){return e.jsx(vt,{children:e.jsxs(bt,{"data-slot":"select-content",className:o("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...n,children:[e.jsx(kt,{}),e.jsx(jt,{className:o("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Tt,{})]})})}function Pt({className:t,children:s,...a}){return e.jsxs(Nt,{"data-slot":"select-item",className:o("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...a,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(wt,{children:e.jsx(V,{className:"size-4"})})}),e.jsx(yt,{children:s})]})}function kt({className:t,...s}){return e.jsx(St,{"data-slot":"select-scroll-up-button",className:o("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(W,{className:"size-4"})})}function Tt({className:t,...s}){return e.jsx(Ct,{"data-slot":"select-scroll-down-button",className:o("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(K,{className:"size-4"})})}function Rt({className:t,...s}){return e.jsx(M,{"data-slot":"tabs",className:o("flex flex-col gap-2",t),...s})}function Ut({className:t,...s}){return e.jsx(G,{"data-slot":"tabs-list",className:o("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function Lt({className:t,...s}){return e.jsx(B,{"data-slot":"tabs-trigger",className:o("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function zt({className:t,...s}){return e.jsx(H,{"data-slot":"tabs-content",className:o("flex-1 outline-none",t),...s})}function _t({className:t,type:s,...a}){return e.jsx("input",{type:s,"data-slot":"input",className:o("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...a})}var Ft=n.forwardRef((t,s)=>e.jsx(v.label,{...t,ref:s,onMouseDown:e=>{var s;e.target.closest("button, input, select, textarea")||(null==(s=t.onMouseDown)||s.call(t,e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));Ft.displayName="Label";var Ot=Ft;function Mt({className:t,...s}){return e.jsx(Ot,{"data-slot":"label",className:o("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}const Gt=({signal:t,onExecute:s})=>{var a;const[r,i]=n.useState("100"),[l,o]=n.useState(t.recommendedLotSize),f="LONG"===t.direction,g=t.confidence>85?"bg-green-500":t.confidence>75?"bg-yellow-500":"bg-red-500";n.useEffect(()=>{const e=parseFloat(r)||0;if(e>0){const s=Math.abs(t.entryPrice-t.stopLoss);let a,n=1;n=t.symbol.includes("JPY")||t.symbol.includes("USD")&&!t.symbol.startsWith("USD")||t.symbol.includes("USD")&&t.symbol.startsWith("USD")?10:"XAUUSD"===t.symbol||"BTCUSD"===t.symbol||"ETHUSD"===t.symbol?1:10,a=t.symbol.includes("JPY")?100*s:t.symbol.includes("USD")||t.symbol.startsWith("EUR")||t.symbol.startsWith("GBP")?1e4*s:s;const r=e/(a*n),i=Math.max(.01,Math.round(100*r)/100);o(i)}else o(t.recommendedLotSize)},[r,t.entryPrice,t.stopLoss,t.symbol,t.recommendedLotSize]);return e.jsxs(c,{className:"w-full max-w-md",children:[e.jsx(d,{children:e.jsxs(u,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[f?e.jsx(q,{className:"h-6 w-6 text-green-500"}):e.jsx(Y,{className:"h-6 w-6 text-red-500"}),e.jsxs("span",{children:[t.symbol," - ",t.strategy]})]}),e.jsx(m,{variant:f?"default":"destructive",children:t.direction})]})}),e.jsxs(x,{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-primary"}),e.jsx("span",{children:"Confidenza"})]}),e.jsxs("span",{className:`font-bold text-lg ${g} text-white px-2 py-1 rounded`,children:[t.confidence,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Entrata:"}),e.jsx("span",{className:"font-mono",children:t.entryPrice.toFixed(5)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Stop Loss:"}),e.jsx("span",{className:"font-mono",children:t.stopLoss.toFixed(5)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Take Profit:"}),e.jsx("span",{className:"font-mono",children:t.takeProfit.toFixed(5)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"R/R:"}),e.jsxs("span",{className:"font-mono",children:["1:",t.riskRewardRatio.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:"Scadenza:"}),e.jsx("span",{className:"font-mono",children:new Date(t.expiresAt).toLocaleTimeString()})]})]}),e.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 text-blue-600"}),e.jsx(Mt,{htmlFor:"riskAmount",className:"text-sm font-semibold text-blue-800",children:"Gestione Rischio"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Mt,{htmlFor:"riskAmount",className:"text-xs text-blue-700",children:"Importo a rischio (USD/EUR):"}),e.jsx(_t,{id:"riskAmount",type:"text",value:r,onChange:e=>{var t;(""===(t=e.target.value)||/^\d*\.?\d*$/.test(t))&&i(t)},placeholder:"100",className:"text-center font-mono"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-blue-700",children:"Lottaggio calcolato:"}),e.jsxs("span",{className:"font-bold text-blue-800",children:[l.toFixed(2)," lotti"]})]}),e.jsx("div",{className:"text-xs text-blue-600 bg-blue-100 p-2 rounded",children:"💡 Il sistema calcola automaticamente il lottaggio in base al rischio inserito e alla distanza dello stop loss."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:"Analisi Strategia:"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.strategyRecommendation})]}),t.institutionalAnalysis&&e.jsxs("div",{className:"border-t pt-3",children:[e.jsx("h4",{className:"font-semibold mb-2 text-purple-600",children:"🏛️ Analisi Istituzionale:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"📊 Smart Money:"}),e.jsx("span",{className:"px-1 py-0.5 rounded text-xs "+("LONG"===t.institutionalAnalysis.marketMakerModel.smartMoneyDirection?"bg-green-100 text-green-700":"SHORT"===t.institutionalAnalysis.marketMakerModel.smartMoneyDirection?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:t.institutionalAnalysis.marketMakerModel.smartMoneyDirection})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"🎯 Fase MM:"}),e.jsx("span",{className:"text-blue-600 font-mono text-xs",children:t.institutionalAnalysis.marketMakerModel.phase})]}),t.institutionalAnalysis.orderBlocks.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"🏛️ Order Blocks:"}),e.jsxs("span",{className:"font-mono text-xs",children:[t.institutionalAnalysis.orderBlocks.filter(e=>"BULLISH"===e.type).length,"B/",t.institutionalAnalysis.orderBlocks.filter(e=>"BEARISH"===e.type).length,"S"]})]}),t.institutionalAnalysis.fairValueGaps.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"⚡ FVG Aperti:"}),e.jsx("span",{className:"font-mono text-xs text-orange-600",children:t.institutionalAnalysis.fairValueGaps.filter(e=>"OPEN"===e.status).length})]}),t.institutionalAnalysis.activeSessions.length>0&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"🌍 Sessioni:"}),e.jsx("div",{className:"flex gap-1",children:t.institutionalAnalysis.activeSessions.map(t=>e.jsx("span",{className:"px-1 py-0.5 rounded text-xs "+(t.volatilityMultiplier>=1.2?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"),children:t.name},t.name))})]}),(null==(a=t.enhancedConfidence)?void 0:a.institutionalScore)&&e.jsxs("div",{className:"col-span-2 flex items-center gap-1",children:[e.jsx("span",{className:"font-semibold",children:"📈 Score Istituzionale:"}),e.jsxs("span",{className:"font-bold "+(t.enhancedConfidence.institutionalScore>=80?"text-green-600":t.enhancedConfidence.institutionalScore>=60?"text-yellow-600":"text-red-600"),children:[t.enhancedConfidence.institutionalScore.toFixed(1),"%"]}),e.jsx("span",{className:"px-1 py-0.5 rounded text-xs ml-1 "+(t.enhancedConfidence.recommendations.institutionalBias.includes("BULLISH")?"bg-green-100 text-green-700":t.enhancedConfidence.recommendations.institutionalBias.includes("BEARISH")?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"),children:t.enhancedConfidence.recommendations.institutionalBias})]})]})]})]}),e.jsx(p,{children:e.jsxs(h,{className:"w-full",onClick:()=>s(t.tradeId,l),disabled:l<.01,children:["Esegui Trade (",l.toFixed(2)," lotti)"]})})]})};function Bt({className:t,...s}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:o("w-full caption-bottom text-sm",t),...s})})}function Ht({className:t,...s}){return e.jsx("thead",{"data-slot":"table-header",className:o("[&_tr]:border-b",t),...s})}function Kt({className:t,...s}){return e.jsx("tbody",{"data-slot":"table-body",className:o("[&_tr:last-child]:border-0",t),...s})}function Vt({className:t,...s}){return e.jsx("tr",{"data-slot":"table-row",className:o("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...s})}function Wt({className:t,...s}){return e.jsx("th",{"data-slot":"table-head",className:o("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}function qt({className:t,...s}){return e.jsx("td",{"data-slot":"table-cell",className:o("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})}const Yt=({positions:t,isLoading:s,onClose:a})=>s?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{children:"Caricamento posizioni..."})]}):t&&0!==t.length?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Bt,{children:[e.jsx(Ht,{children:e.jsxs(Vt,{children:[e.jsx(Wt,{children:"Ticket"}),e.jsx(Wt,{children:"Simbolo"}),e.jsx(Wt,{children:"Tipo"}),e.jsx(Wt,{children:"Volume"}),e.jsx(Wt,{children:"Prezzo Apertura"}),e.jsx(Wt,{children:"Prezzo Corrente"}),e.jsx(Wt,{children:"P/L"}),e.jsx(Wt,{children:"Azione"})]})}),e.jsx(Kt,{children:t.map(t=>e.jsxs(Vt,{children:[e.jsx(qt,{className:"font-mono",children:t.ticket}),e.jsx(qt,{children:t.symbol}),e.jsx(qt,{children:e.jsx(m,{variant:0===t.type?"default":"destructive",children:0===t.type?"BUY":"SELL"})}),e.jsx(qt,{children:t.volume}),e.jsx(qt,{className:"font-mono",children:t.openPrice.toFixed(5)}),e.jsx(qt,{className:"font-mono",children:t.currentPrice.toFixed(5)}),e.jsxs(qt,{className:t.profit>=0?"text-green-500 font-semibold":"text-red-500 font-semibold",children:["$",t.profit.toFixed(2)]}),e.jsx(qt,{children:e.jsx(h,{variant:"destructive",size:"sm",onClick:()=>a(t.ticket),className:"text-xs",children:"Chiudi"})})]},t.ticket))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground",children:"Nessuna posizione aperta."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Le posizioni aperte appariranno qui dopo l'esecuzione dei trade."})]}),Xt=Object.freeze(Object.defineProperty({__proto__:null,default:Yt},Symbol.toStringTag,{value:"Module"}));var $t,Zt;(Zt=$t||($t={})).SCALPING="SCALPING",Zt.INTRADAY="INTRADAY",Zt.SWING="SWING",Zt.POSITION="POSITION",Zt.STATISTICAL_ARBITRAGE="STATISTICAL_ARBITRAGE",Zt.MOMENTUM_BREAKOUT="MOMENTUM_BREAKOUT",Zt.MEAN_REVERSION="MEAN_REVERSION",Zt.PAIRS_TRADING="PAIRS_TRADING",Zt.ORDER_FLOW="ORDER_FLOW",Zt.VOLATILITY_TRADING="VOLATILITY_TRADING",Zt.TREND_FOLLOWING="TREND_FOLLOWING",Zt.REGIME_SWITCHING="REGIME_SWITCHING",$t.SCALPING,$t.INTRADAY,$t.SWING,$t.POSITION,$t.STATISTICAL_ARBITRAGE,$t.MOMENTUM_BREAKOUT,$t.MEAN_REVERSION,$t.PAIRS_TRADING,$t.ORDER_FLOW,$t.VOLATILITY_TRADING,$t.TREND_FOLLOWING,$t.REGIME_SWITCHING;const Jt=[{symbol:"BTCUSD",name:"Bitcoin",flag:"₿",category:"Crypto"},{symbol:"ETHUSD",name:"Ethereum",flag:"⟠",category:"Crypto"},{symbol:"EURUSD",name:"EUR/USD",flag:"🇪🇺",category:"Forex"},{symbol:"GBPUSD",name:"GBP/USD",flag:"🇬🇧",category:"Forex"},{symbol:"XAUUSD",name:"Gold",flag:"🥇",category:"Commodity"},{symbol:"US500",name:"S&P 500",flag:"📈",category:"Index"},{symbol:"NAS100",name:"Nasdaq",flag:"💻",category:"Index"},{symbol:"US30",name:"Dow Jones",flag:"📊",category:"Index"}],Qt=[{value:"auto",name:"🤖 Auto",description:"AI chooses best strategy"},{value:$t.SCALPING,name:"⚡ Scalp",description:"Quick 1-15min trades"},{value:$t.INTRADAY,name:"📊 Intraday",description:"1-6 hour positions"}],es=()=>{var r,d,u,p;const v=i(),b=l(),[j,N]=n.useState("BTCUSD"),[y,w]=n.useState("auto"),[S,C]=n.useState(!1),[A,E]=n.useState(""),[D,I]=n.useState("generate"),P=g(),{toast:k}=f(),T=t(),{vibration:R}=ue();n.useRef(null),n.useEffect(()=>{var e;(null==(e=v.state)?void 0:e.selectedSymbol)&&N(v.state.selectedSymbol)},[v.state]);const U=s({mutationFn:()=>{const e="auto"===y?void 0:y;return P.analysis.predict({symbol:j,strategy:e})},onSuccess:e=>{R.vibratePattern("success"),k({title:"✅ Signal Generated",description:`${e.direction} signal for ${j} (${e.confidence}% confidence)`}),I("signal")},onError:e=>{R.vibratePattern("error"),k({variant:"destructive",title:"❌ Error",description:e.message||"Failed to generate signal"})}}),L=s({mutationFn:e=>P.analysis.execute(e),onSuccess:e=>{R.vibratePattern("success"),k({title:"🚀 Trade Executed",description:`Order ID: ${e.orderId}`}),T.invalidateQueries({queryKey:["positions"]}),I("positions")},onError:e=>{R.vibratePattern("error"),k({variant:"destructive",title:"❌ Execution Failed",description:e.message})}}),z=s({mutationFn:e=>P.analysis.closePosition({ticket:e}),onSuccess:()=>{R.vibratePattern("light"),k({title:"✅ Position Closed",description:"Position closed successfully"}),T.invalidateQueries({queryKey:["positions"]})},onError:e=>{R.vibratePattern("error"),k({variant:"destructive",title:"❌ Close Failed",description:e.message})}}),{data:_,isLoading:F}=a({queryKey:["positions"],queryFn:()=>P.analysis.listPositions(),refetchInterval:3e4}),O=Jt.filter(e=>e.symbol.toLowerCase().includes(A.toLowerCase())||e.name.toLowerCase().includes(A.toLowerCase())),M=Jt.find(e=>e.symbol===j)||{symbol:j,name:j,flag:"📊"},G=()=>{R.vibratePattern("tap"),U.mutate()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-bold",children:"AI Trading"}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>b("/dashboard"),className:"h-8 w-8 p-0",children:e.jsx(te,{className:"h-4 w-4"})})]}),e.jsx(c,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-primary/20",children:e.jsxs(x,{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Trading Asset"}),e.jsxs(h,{variant:"outline",className:"w-full justify-between touch-target h-12",onClick:()=>C(!0),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:M.flag}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:M.symbol}),e.jsx("div",{className:"text-xs text-muted-foreground",children:M.name})]})]}),e.jsx(se,{className:"h-4 w-4"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground mb-2 block",children:"Strategy"}),e.jsx("div",{className:"flex gap-2",children:Qt.map(t=>e.jsx(h,{variant:y===t.value?"default":"outline",size:"sm",className:"flex-1 h-12",onClick:()=>w(t.value),children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"font-semibold text-xs",children:t.name})})},t.value))}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:null==(r=Qt.find(e=>e.value===y))?void 0:r.description})]}),e.jsx(h,{onClick:G,disabled:U.isPending,className:"w-full touch-target h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:U.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-5 w-5 mr-2"}),"Generate AI Signal"]})})]})}),e.jsxs(Rt,{value:D,onValueChange:I,className:"w-full",children:[e.jsxs(Ut,{className:"grid w-full grid-cols-2 touch-target h-12",children:[e.jsxs(Lt,{value:"generate",className:"relative",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Signal",U.data&&e.jsx(m,{variant:"destructive",className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs",children:"1"})]}),e.jsxs(Lt,{value:"positions",className:"relative",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Positions",(null==(d=null==_?void 0:_.positions)?void 0:d.length)?e.jsx(m,{variant:"secondary",className:"absolute -top-1 -right-1 h-4 w-4 p-0 text-xs",children:_.positions.length}):null]})]}),e.jsxs(zt,{value:"generate",className:"space-y-4",children:[U.isPending&&e.jsx(c,{className:"border-blue-200 bg-blue-50",children:e.jsxs(x,{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"AI Analysis in Progress"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Analyzing ",j," with advanced machine learning..."]})]})}),U.error&&e.jsx(c,{className:"border-red-200 bg-red-50",children:e.jsxs(x,{className:"p-4 text-center",children:[e.jsx(ne,{className:"h-8 w-8 text-red-500 mx-auto mb-3"}),e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Generation Failed"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:U.error.message}),e.jsx(h,{variant:"outline",size:"sm",onClick:G,className:"border-red-300 text-red-700",children:"Try Again"})]})}),U.data&&e.jsx("div",{className:"space-y-4",children:e.jsx(Gt,{signal:U.data,onExecute:(e,t)=>L.mutate({tradeId:e,lotSize:t})})}),!U.isPending&&!U.error&&!U.data&&e.jsx(c,{className:"border-dashed border-2",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx($,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),e.jsx("h4",{className:"font-semibold mb-2",children:"Ready to Generate"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:'Select an asset and strategy, then tap "Generate AI Signal"'}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"✨ 100+ Assets"}),e.jsx("p",{children:"Forex, Crypto, Indices"})]}),e.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"🎯 AI Powered"}),e.jsx("p",{children:"Machine Learning Analysis"})]})]})]})})]}),e.jsx(zt,{value:"positions",className:"space-y-4",children:F?e.jsx(c,{children:e.jsxs(x,{className:"p-4 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading positions..."})]})}):0===(null==(u=null==_?void 0:_.positions)?void 0:u.length)?e.jsx(c,{className:"border-dashed border-2",children:e.jsxs(x,{className:"p-6 text-center",children:[e.jsx(ee,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),e.jsx("h4",{className:"font-semibold mb-2",children:"No Active Positions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your executed trades will appear here"})]})}):e.jsx("div",{className:"space-y-3",children:null==(p=null==_?void 0:_.positions)?void 0:p.map(t=>{var s,a,n;return e.jsx(c,{className:"mobile-card",children:e.jsxs(x,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold",children:t.symbol}),e.jsx(m,{variant:0===t.type?"default":"destructive",className:"text-xs",children:0===t.type?"BUY":"SELL"})]}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>z.mutate(t.ticket),disabled:z.isPending,className:"h-7 px-2 text-xs",children:"Close"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Entry Price"}),e.jsx("p",{className:"font-mono",children:(null==(s=t.openPrice)?void 0:s.toFixed(5))||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Current P&L"}),e.jsxs("p",{className:o("font-mono font-bold",(t.profit||0)>=0?"text-green-600":"text-red-600"),children:["$",(null==(a=t.profit)?void 0:a.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Volume"}),e.jsx("p",{className:"font-mono",children:t.volume||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Swap"}),e.jsxs("p",{className:"font-mono",children:["$",(null==(n=t.swap)?void 0:n.toFixed(2))||"0.00"]})]})]})]})},t.ticket)})})})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>C(!1)}),e.jsxs("div",{className:"fixed inset-4 z-50 bg-background rounded-lg shadow-lg flex flex-col max-h-[80vh]",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"font-semibold",children:"Select Asset"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>C(!1),className:"h-8 w-8 p-0",children:e.jsx(te,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(_t,{placeholder:"Search assets...",value:A,onChange:e=>E(e.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:(A?O:Jt).map(t=>e.jsxs(h,{variant:"outline",className:"w-full justify-start touch-target h-12",onClick:()=>{return e=t.symbol,N(e),C(!1),void E("");var e},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t.flag}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold",children:t.symbol}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t.name})]})]}),e.jsx(m,{variant:"secondary",className:"ml-auto text-xs",children:t.category})]},t.symbol))})]})]})]})},ts={"🔥 Popolari":["BTCUSD","ETHUSD","EURUSD","GBPUSD","XAUUSD","US500","NAS100","US30"],"💱 Forex Majors":["EURUSD","GBPUSD","USDJPY","USDCHF","AUDUSD","USDCAD","NZDUSD"],"💱 Forex Minors":["EURGBP","EURJPY","EURCHF","EURAUD","EURCAD","EURNZD","GBPJPY","GBPCHF","GBPAUD","GBPCAD","GBPNZD","AUDJPY","AUDCHF","AUDCAD","AUDNZD","NZDJPY","NZDCHF","NZDCAD","CADJPY","CADCHF","CHFJPY"],"💱 Forex Exotics":["USDSEK","USDNOK","USDDKK","USDPLN","USDHUF","USDCZK","USDTRY","USDZAR","USDMXN","USDBRL","USDSGD","USDHKD","EURPLN","EURSEK","EURNOK","EURDKK","EURTRY","EURZAR","GBPPLN","GBPSEK","GBPNOK","GBPDKK","GBPTRY","GBPZAR"],"📈 Indici CFD":["US30","US500","SPX500","NAS100","UK100","GER40","FRA40","ESP35","ITA40","AUS200","JPN225","HK50","CHINA50","INDIA50"],"🏗️ Materie Prime":["XAUUSD","XAGUSD","XPTUSD","XPDUSD","CRUDE","BRENT","NATGAS","WHEAT","CORN","SOYBEAN","SUGAR","COFFEE","COCOA","COTTON"],"₿ Criptovalute":["BTCUSD","ETHUSD","LTCUSD","XRPUSD","ADAUSD","DOTUSD","LINKUSD","BCHUSD","XLMUSD","EOSUSD"]},ss={auto:{name:"🤖 Strategia Automatica",description:"L'AI sceglie la strategia ottimale basandosi sulle condizioni di mercato",icon:ie},[$t.SCALPING]:{name:"⚡ Scalping",description:"Trade veloci (1-15 min) per catturare piccoli movimenti",icon:q},[$t.INTRADAY]:{name:"📊 Intraday",description:"Posizioni mantenute per 1-6 ore con chiusura automatica",icon:Q}};function as(){var r;const l=i(),[o,p]=n.useState("US30"),[v,b]=n.useState("auto"),j=g(),{toast:N}=f(),y=t();if(function(){const[e,t]=n.useState(!1);return n.useEffect(()=>{const e=()=>{t(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}())return e.jsx(es,{});n.useEffect(()=>{var e;(null==(e=l.state)?void 0:e.selectedSymbol)&&p(l.state.selectedSymbol)},[l.state]);const w=s({mutationFn:()=>{const e="auto"===v?void 0:v;return j.analysis.predict({symbol:o,strategy:e})},onSuccess:e=>{N({title:"✅ Segnale Generato",description:`Segnale ${e.direction} per ${o} con confidenza ${e.confidence}%`})},onError:e=>{N({variant:"destructive",title:"❌ Errore",description:e.message||"Errore nella generazione del segnale"})}}),S=s({mutationFn:e=>j.analysis.execute(e),onSuccess:e=>{N({title:"🚀 Trade Eseguito",description:`Trade eseguito con successo! Order ID: ${e.orderId}`}),y.invalidateQueries({queryKey:["positions"]}),y.invalidateQueries({queryKey:["performance"]})},onError:e=>{N({variant:"destructive",title:"❌ Errore Esecuzione",description:e.message||"Errore nell'esecuzione del trade"})}}),C=s({mutationFn:e=>j.analysis.closePosition({ticket:e}),onSuccess:()=>{N({title:"✅ Posizione Chiusa",description:"Posizione chiusa con successo."}),y.invalidateQueries({queryKey:["positions"]}),y.invalidateQueries({queryKey:["performance"]})},onError:e=>{N({variant:"destructive",title:"❌ Errore Chiusura",description:e.message||"Errore nella chiusura della posizione"})}}),{data:A,isLoading:E,error:D}=a({queryKey:["positions"],queryFn:()=>j.analysis.listPositions(),retry:1,refetchInterval:15e3}),I=ss[v];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"🎯 Trading AI"}),e.jsx("p",{className:"text-muted-foreground",children:"Genera segnali intelligenti ed esegui trade automatici su oltre 100 asset finanziari"})]}),e.jsxs(c,{className:"border-2 border-primary/20 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsx(d,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5 text-primary"}),"Generatore Segnali AI"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Asset da Analizzare"}),e.jsxs(At,{value:o,onValueChange:p,children:[e.jsx(Dt,{children:e.jsx(Et,{placeholder:"Seleziona Asset"})}),e.jsx(It,{className:"max-h-[400px]",children:Object.entries(ts).map(([t,s])=>e.jsxs("div",{children:[e.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold text-muted-foreground bg-muted/50 sticky top-0",children:t}),s.map(t=>e.jsx(Pt,{value:t,className:"pl-4",children:t},t))]},t))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Strategia di Trading"}),e.jsxs(At,{value:v,onValueChange:e=>b(e),children:[e.jsx(Dt,{children:e.jsx(Et,{placeholder:"Strategia"})}),e.jsxs(It,{children:[e.jsx(Pt,{value:"auto",children:"🤖 Automatica (Consigliata)"}),e.jsx(Pt,{value:$t.SCALPING,children:"⚡ Scalping"}),e.jsx(Pt,{value:$t.INTRADAY,children:"📊 Intraday"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(h,{onClick:()=>w.mutate(),disabled:w.isPending,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",size:"lg",children:w.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analizzando..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"Genera Segnale AI"]})})})]}),I&&e.jsxs("div",{className:"bg-white/60 border border-primary/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I.icon,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-semibold text-primary",children:I.name})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:I.description})]}),("US30"===o||"US500"===o||"SPX500"===o||"NAS100"===o)&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-lg",children:"🇺🇸"}),e.jsx("span",{className:"font-semibold text-yellow-800",children:"Indici USA Selezionati"})]}),e.jsxs("p",{className:"text-sm text-yellow-700",children:["Il sistema utilizzerà automaticamente il formato simbolo corretto per il tuo broker (es. ",o,"pm, ",o,".pm, ecc.)"]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"📊 Segnale Generato"}),w.isPending&&e.jsx(c,{className:"border-blue-200 bg-blue-50",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Analisi AI in Corso"}),e.jsxs("p",{className:"text-blue-700",children:["Analizzando ",o," con intelligenza artificiale avanzata..."]}),e.jsxs("div",{className:"mt-4 space-y-2 text-sm text-blue-600",children:[e.jsx("p",{children:"• Raccolta dati di mercato multi-timeframe"}),e.jsx("p",{children:"• Analisi tecnica con 15+ indicatori"}),e.jsx("p",{children:"• Valutazione sentiment e smart money"}),e.jsx("p",{children:"• Calcolo livelli di confidenza"}),("US30"===o||"US500"===o||"SPX500"===o||"NAS100"===o)&&e.jsx("p",{children:"• Rilevamento formato simbolo ottimale per indici USA"})]})]})})}),w.error&&e.jsx(c,{className:"border-red-200 bg-red-50",children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"❌ Errore nella Generazione"}),e.jsx("p",{className:"text-red-700 mb-4",children:w.error.message}),e.jsx(h,{variant:"outline",onClick:()=>w.mutate(),className:"border-red-300 text-red-700 hover:bg-red-100",children:"🔄 Riprova"})]})})}),w.data&&e.jsx(Gt,{signal:w.data,onExecute:(e,t)=>S.mutate({tradeId:e,lotSize:t})}),!w.isPending&&!w.error&&!w.data&&e.jsx(c,{className:"border-dashed border-2 border-muted-foreground/25",children:e.jsx(x,{className:"p-8",children:e.jsxs("div",{className:"text-center text-muted-foreground",children:[e.jsx($,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("h4",{className:"font-semibold mb-2",children:"Pronto per Generare Segnali"}),e.jsx("p",{className:"mb-4",children:'Seleziona un asset e una strategia, poi clicca "Genera Segnale AI"'}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"✨ 100+ Asset"}),e.jsx("p",{children:"Forex, Indici, Crypto, Commodities"})]}),e.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg",children:[e.jsx("p",{className:"font-semibold",children:"🎯 AI Avanzata"}),e.jsx("p",{children:"Machine Learning e analisi tecnica"})]})]})]})})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"📈 Posizioni Aperte"}),e.jsxs(m,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(null==(r=null==A?void 0:A.positions)?void 0:r.length)||0," attive"]})]}),e.jsx(c,{children:e.jsx(x,{className:"p-0",children:E?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),e.jsx("p",{className:"text-muted-foreground",children:"Caricamento posizioni..."})]}):D?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-red-500 mb-2",children:"Errore nel caricamento"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:D.message}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>y.invalidateQueries({queryKey:["positions"]}),children:"🔄 Riprova"})]}):e.jsx(Yt,{positions:(null==A?void 0:A.positions)||[],isLoading:E,onClose:e=>{C.mutate(e)}})})})]})]}),e.jsxs(c,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:[e.jsx(d,{children:e.jsx(u,{className:"text-green-800",children:"💡 Suggerimenti per il Trading"})}),e.jsx(x,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-2xl",children:"🎯"})}),e.jsx("h4",{className:"font-semibold text-green-800",children:"Alta Confidenza"}),e.jsx("p",{className:"text-sm text-green-700",children:"Esegui trade solo con confidenza >80%"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-2xl",children:"💰"})}),e.jsx("h4",{className:"font-semibold text-blue-800",children:"Gestione Rischio"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Usa il calcolatore automatico del lottaggio"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-2xl",children:"🇺🇸"})}),e.jsx("h4",{className:"font-semibold text-purple-800",children:"Indici USA"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Sistema ottimizzato per US30, US500, NAS100"})]})]})})]})]})}export{_t as I,Mt as L,Xt as P,At as S,Rt as T,oe as V,Ut as a,Lt as b,zt as c,Dt as d,Et as e,It as f,Pt as g,Bt as h,Ht as i,Vt as j,Wt as k,Kt as l,qt as m,as as n,ue as u};
